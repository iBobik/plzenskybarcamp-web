!function(t){function e(t){return t.replace(/(:|\.)/g,"\\$1")}var o="1.4.6",r={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:700,autoCoefficent:2},n=function(e){var o=[],r=!1,n=e.dir&&"left"==e.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var e=t(this);e[n]()>0?o.push(this):(e[n](1),r=e[n]()>0,r&&o.push(this),e[n](0))}}),o.length||this.each(function(){"BODY"===this.nodeName&&(o=[this])}),"first"===e.el&&o.length>1&&(o=[o[0]]),o};t.fn.extend({scrollable:function(t){var e=n.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=n.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(o){o=o||{};var r=t.extend({},t.fn.smoothScroll.defaults,o),n=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(o){var i=this,s=t(this),a=r.exclude,l=r.excludeWithin,c=0,u=0,f=!0,d={},m=location.hostname===i.hostname||!i.hostname,h=r.scrollTarget||(t.smoothScroll.filterPath(i.pathname)||n)===n,p=e(i.hash);if(r.scrollTarget||m&&h&&p){for(;f&&c<a.length;)s.is(e(a[c++]))&&(f=!1);for(;f&&u<l.length;)s.closest(l[u++]).length&&(f=!1)}else f=!1;f&&(o.preventDefault(),t.extend(d,r,{scrollTarget:r.scrollTarget||p,link:i}),t.smoothScroll(d))}),this}}),t.smoothScroll=function(e,o){var r,n,i,s,a=0,l="offset",c="scrollTop",u={},f={};"number"==typeof e?(r=t.fn.smoothScroll.defaults,i=e):(r=t.extend({},t.fn.smoothScroll.defaults,e||{}),r.scrollElement&&(l="position","static"==r.scrollElement.css("position")&&r.scrollElement.css("position","relative")),i=o||t(r.scrollTarget)[l]()&&t(r.scrollTarget)[l]()[r.direction]||0),r=t.extend({link:null},r),c="left"==r.direction?"scrollLeft":c,r.scrollElement?(n=r.scrollElement,a=n[c]()):n=t("html, body").firstScrollable(),u[c]=i+a+r.offset,r.beforeScroll.call(n,r),s=r.speed,"auto"===s&&(s=u[c]||n.scrollTop(),s/=r.autoCoefficent),f={duration:s,easing:r.easing,complete:function(){r.afterScroll.call(r.link,r)}},r.step&&(f.step=r.step),n.length?n.stop().animate(u,f):r.afterScroll.call(r.link,r)},t.smoothScroll.version=o,t.smoothScroll.filterPath=function(t){return t.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults=r}(jQuery);